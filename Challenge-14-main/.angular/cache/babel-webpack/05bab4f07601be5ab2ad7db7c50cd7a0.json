{"ast":null,"code":"import { Subject } from \"rxjs\";\nexport class AppService {\n  constructor() {\n    /** to simulate there is more item possible to add in cart */\n    this.allItems = [{\n      \"id\": 0,\n      \"name\": \"placeholder\",\n      \"price\": -1,\n      \"urlThumbnail\": \"placeholder\",\n      \"company\": \"placeholder\",\n      \"theme\": [{\n        \"primary\": \"black\",\n        \"primaryLight\": \"black\",\n        \"primaryDull\": \"black\"\n      }],\n      \"allImageUrl\": [{\n        \"id\": 0,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": true\n      }, {\n        \"id\": 1,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": false\n      }, {\n        \"id\": 2,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": false\n      }, {\n        \"id\": 3,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": false\n      }]\n    }, {\n      \"id\": 1,\n      \"name\": \"Fall Limited Edition Sneakers\",\n      \"price\": 125,\n      \"urlThumbnail\": \"./assets/image-product-1-thumbnail.jpg\",\n      \"company\": \"SNEAKER COMPANY\",\n      \"theme\": [{\n        \"primary\": \"hsl(26, 100%, 55%)\",\n        \"primaryLight\": \"hsl(25, 100%, 94%)\",\n        \"primaryDull\": \"hsla(26, 100%, 65%)\"\n      }],\n      \"allImageUrl\": [{\n        \"id\": 0,\n        \"url\": \"./assets/image-product-1.jpg\",\n        \"urlThumbnail\": \"./assets/image-product-1-thumbnail.jpg\",\n        \"selected\": true\n      }, {\n        \"id\": 1,\n        \"url\": \"./assets/image-product-2.jpg\",\n        \"urlThumbnail\": \"./assets/image-product-2-thumbnail.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 2,\n        \"url\": \"./assets/image-product-3.jpg\",\n        \"urlThumbnail\": \"./assets/image-product-3-thumbnail.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 3,\n        \"url\": \"./assets/image-product-4.jpg\",\n        \"urlThumbnail\": \"./assets/image-product-4-thumbnail.jpg\",\n        \"selected\": false\n      }]\n    }, {\n      \"id\": 2,\n      \"name\": \"Off Noir and Volt\",\n      \"price\": 179,\n      \"urlThumbnail\": \"./assets/SNKRS.jpg\",\n      \"company\": \"NIKE\",\n      \"theme\": [{\n        \"primary\": \"#00e600\",\n        \"primaryLight\": \"#e0ffe1\",\n        \"primaryDull\": \"#5bff5b\"\n      }],\n      \"allImageUrl\": [{\n        \"id\": 0,\n        \"url\": \"./assets/SNKRS.jpg\",\n        \"urlThumbnail\": \"./assets/SNKRS.jpg\",\n        \"selected\": true\n      }, {\n        \"id\": 1,\n        \"url\": \"./assets/SNKRS-2.jpg\",\n        \"urlThumbnail\": \"./assets/SNKRS-2.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 2,\n        \"url\": \"./assets/SNKRS-3.jpg\",\n        \"urlThumbnail\": \"./assets/SNKRS-3.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 3,\n        \"url\": \"./assets/SNKRS-4.jpg\",\n        \"urlThumbnail\": \"./assets/SNKRS-4.jpg\",\n        \"selected\": false\n      }]\n    }, {\n      \"id\": 3,\n      \"name\": \"Air Huarache LE - Praline/Umber\",\n      \"price\": 129,\n      \"urlThumbnail\": \"./assets/nike-air-huarache-le-pralineumber.jpg\",\n      \"company\": \"NIKE\",\n      \"theme\": [{\n        \"primary\": \"#5b2b51\",\n        \"primaryLight\": \"#b58bab\",\n        \"primaryDull\": \"#754972\"\n      }],\n      \"allImageUrl\": [{\n        \"id\": 0,\n        \"url\": \"./assets/nike-air-huarache-le-pralineumber.jpg\",\n        \"urlThumbnail\": \"./assets/nike-air-huarache-le-pralineumber.jpg\",\n        \"selected\": true\n      }, {\n        \"id\": 1,\n        \"url\": \"./assets/nike-air-huarache-le-pralineumber-1.jpg\",\n        \"urlThumbnail\": \"./assets/nike-air-huarache-le-pralineumber-1.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 2,\n        \"url\": \"./assets/nike-air-huarache-le-pralineumber-2.jpg\",\n        \"urlThumbnail\": \"./assets/nike-air-huarache-le-pralineumber-2.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 3,\n        \"url\": \"./assets/nike-air-huarache-le-pralineumber-3.jpg\",\n        \"urlThumbnail\": \"./assets/nike-air-huarache-le-pralineumber-3.jpg\",\n        \"selected\": false\n      }]\n    }, {\n      \"id\": 4,\n      \"name\": \"AIR JORDAN 11 W ANIMAL INSTINCT\",\n      \"price\": 199,\n      \"urlThumbnail\": \"./assets/AJ11-animal-instinct.jpg\",\n      \"company\": \"NIKE\",\n      \"theme\": [{\n        \"primary\": \"#9d050c\",\n        \"primaryLight\": \"#ffabb0\",\n        \"primaryDull\": \"#bb343a\"\n      }],\n      \"allImageUrl\": [{\n        \"id\": 0,\n        \"url\": \"./assets/AJ11-animal-instinct.jpg\",\n        \"urlThumbnail\": \"./assets/AJ11-animal-instinct.jpg\",\n        \"selected\": true\n      }, {\n        \"id\": 1,\n        \"url\": \"./assets/AJ11-animal-instinct-1.jpg\",\n        \"urlThumbnail\": \"./assets/AJ11-animal-instinct-1.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 2,\n        \"url\": \"./assets/AJ11-animal-instinct-2.jpg\",\n        \"urlThumbnail\": \"./assets/AJ11-animal-instinct-2.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 3,\n        \"url\": \"./assets/AJ11-animal-instinct-3.jpg\",\n        \"urlThumbnail\": \"./assets/AJ11-animal-instinct-3.jpg\",\n        \"selected\": false\n      }]\n    }, {\n      \"id\": 5,\n      \"name\": \"YEEZY BOOST 700 FADE AZURE\",\n      \"price\": 240,\n      \"urlThumbnail\": \"./assets/GZ2002_01.jpg\",\n      \"company\": \"ADIDAS\",\n      \"theme\": [{\n        \"primary\": \"#72cfc8\",\n        \"primaryLight\": \"#bef3ef\",\n        \"primaryDull\": \"#0f998d\"\n      }],\n      \"allImageUrl\": [{\n        \"id\": 0,\n        \"url\": \"./assets/GZ2002_01.jpg\",\n        \"urlThumbnail\": \"./assets/GZ2002_01.jpg\",\n        \"selected\": true\n      }, {\n        \"id\": 1,\n        \"url\": \"./assets/GZ2002_02.jpg\",\n        \"urlThumbnail\": \"./assets/GZ2002_02.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 2,\n        \"url\": \"./assets/GZ2002_03.jpg\",\n        \"urlThumbnail\": \"./assets/GZ2002_03.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 3,\n        \"url\": \"./assets/GZ2002_04.jpg\",\n        \"urlThumbnail\": \"./assets/GZ2002_04.jpg\",\n        \"selected\": false\n      }]\n    }, {\n      \"id\": 6,\n      \"name\": \"X SPEEDFLOW+ AG\",\n      \"price\": 280,\n      \"urlThumbnail\": \"./assets/X_SPEEDFLOW_AG_Blanc_FY6873_01.jpg\",\n      \"company\": \"ADIDAS\",\n      \"theme\": [{\n        \"primary\": \"#d43a35\",\n        \"primaryLight\": \"#fba0a1\",\n        \"primaryDull\": \"#d46ca3\"\n      }],\n      \"allImageUrl\": [{\n        \"id\": 0,\n        \"url\": \"./assets/X_SPEEDFLOW_AG_Blanc_FY6873_01.jpg\",\n        \"urlThumbnail\": \"./assets/X_SPEEDFLOW_AG_Blanc_FY6873_01.jpg\",\n        \"selected\": true\n      }, {\n        \"id\": 1,\n        \"url\": \"./assets/X_SPEEDFLOW_AG_Blanc_FY6873_02.jpg\",\n        \"urlThumbnail\": \"./assets/X_SPEEDFLOW_AG_Blanc_FY6873_02.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 2,\n        \"url\": \"./assets/X_SPEEDFLOW_AG_Blanc_FY6873_03.jpg\",\n        \"urlThumbnail\": \"./assets/X_SPEEDFLOW_AG_Blanc_FY6873_03.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 3,\n        \"url\": \"./assets/X_SPEEDFLOW_AG_Blanc_FY6873_04.jpg\",\n        \"urlThumbnail\": \"./assets/X_SPEEDFLOW_AG_Blanc_FY6873_04.jpg\",\n        \"selected\": false\n      }]\n    }, {\n      \"id\": 7,\n      \"name\": \"OZELIA\",\n      \"price\": 110,\n      \"urlThumbnail\": \"./assets/Chaussure_Ozelia_Blanc_GY6194_01.jpg\",\n      \"company\": \"ADIDAS\",\n      \"theme\": [{\n        \"primary\": \"#ebab88\",\n        \"primaryLight\": \"#fff3ec\",\n        \"primaryDull\": \"#bd927a\"\n      }],\n      \"allImageUrl\": [{\n        \"id\": 0,\n        \"url\": \"./assets/Chaussure_Ozelia_Blanc_GY6194_01.jpg\",\n        \"urlThumbnail\": \"./assets/Chaussure_Ozelia_Blanc_GY6194_01.jpg\",\n        \"selected\": true\n      }, {\n        \"id\": 1,\n        \"url\": \"./assets/Chaussure_Ozelia_Blanc_GY6194_02.jpg\",\n        \"urlThumbnail\": \"./assets/Chaussure_Ozelia_Blanc_GY6194_02.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 2,\n        \"url\": \"./assets/Chaussure_Ozelia_Blanc_GY6194_03.jpg\",\n        \"urlThumbnail\": \"./assets/Chaussure_Ozelia_Blanc_GY6194_03.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 3,\n        \"url\": \"./assets/Chaussure_Ozelia_Blanc_GY6194_04.jpg\",\n        \"urlThumbnail\": \"./assets/Chaussure_Ozelia_Blanc_GY6194_04.jpg\",\n        \"selected\": false\n      }]\n    }, {\n      \"id\": 8,\n      \"name\": \"HARDEN VOL. 5 FUTURENATURAL\",\n      \"price\": 112,\n      \"urlThumbnail\": \"./assets/Chaussure_Harden_Vol._5_Futurenatural_Blanc_GY7489_01.jpg\",\n      \"company\": \"ADIDAS\",\n      \"theme\": [{\n        \"primary\": \"#d91c2e\",\n        \"primaryLight\": \"#f9eab0\",\n        \"primaryDull\": \"#8499bf\"\n      }],\n      \"allImageUrl\": [{\n        \"id\": 0,\n        \"url\": \"./assets/Chaussure_Harden_Vol._5_Futurenatural_Blanc_GY7489_01.jpg\",\n        \"urlThumbnail\": \"./assets/Chaussure_Harden_Vol._5_Futurenatural_Blanc_GY7489_01.jpg\",\n        \"selected\": true\n      }, {\n        \"id\": 1,\n        \"url\": \"./assets/Chaussure_Harden_Vol._5_Futurenatural_Blanc_GY7489_02.jpg\",\n        \"urlThumbnail\": \"./assets/Chaussure_Harden_Vol._5_Futurenatural_Blanc_GY7489_02.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 2,\n        \"url\": \"./assets/Chaussure_Harden_Vol._5_Futurenatural_Blanc_GY7489_03.jpg\",\n        \"urlThumbnail\": \"./assets/Chaussure_Harden_Vol._5_Futurenatural_Blanc_GY7489_03.jpg\",\n        \"selected\": false\n      }, {\n        \"id\": 3,\n        \"url\": \"./assets/Chaussure_Harden_Vol._5_Futurenatural_Blanc_GY7489_04.jpg\",\n        \"urlThumbnail\": \"./assets/Chaussure_Harden_Vol._5_Futurenatural_Blanc_GY7489_04.jpg\",\n        \"selected\": false\n      }]\n    }];\n    this.curCartJSON = [{\n      \"id\": 0,\n      \"name\": \"placeholder\",\n      \"price\": -1,\n      \"urlThumbnail\": \"placeholder\",\n      \"company\": \"placeholder\",\n      \"theme\": [{\n        \"primary\": \"black\",\n        \"primaryLight\": \"black\",\n        \"primaryDull\": \"black\"\n      }],\n      \"numberSelected\": -1,\n      \"allImageUrl\": [{\n        \"id\": 0,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": true\n      }, {\n        \"id\": 1,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": false\n      }, {\n        \"id\": 2,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": false\n      }, {\n        \"id\": 3,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": false\n      }]\n    }];\n    this.cartJSONSubject = new Subject();\n    this.itemId = 1;\n    this.itemIdSuject = new Subject();\n    this.cartStateSubject = new Subject();\n    this.CartState = false;\n    this.emptyCartSubject = new Subject();\n    this.emptyCart = true;\n    this.nbItemsInCart = 0;\n    this.thisItemNbInCart = 0;\n    this.nbItemsInCartSubject = new Subject();\n    this.isEmpty = true;\n    this.profilState = false;\n    this.profilStateSubject = new Subject();\n    this.currentImageIndex = 0;\n  }\n\n  emitAppareilSubject() {\n    this.cartStateSubject.next(this.CartState);\n  }\n\n  cartStateUpdater() {\n    if (!this.CartState) {\n      this.CartState = true;\n    } else {\n      this.CartState = false;\n    }\n\n    this.cartStateSubject.next(this.CartState);\n  }\n\n  addToCart(nbToAdd) {\n    this.nbItemsInCart = this.nbItemsInCart + nbToAdd;\n    this.thisItemNbInCart = this.thisItemNbInCart + nbToAdd;\n\n    if (this.nbItemsInCart != 0) {\n      this.emptyCart = false;\n      this.emptyCartSubject.next(this.emptyCart);\n      let isInCart = false;\n      this.curCartJSON.forEach(currentItem => {\n        if (currentItem.id == this.itemId) {\n          isInCart = true;\n          currentItem.numberSelected = this.thisItemNbInCart;\n        }\n      });\n\n      if (!isInCart) {\n        this.curCartJSON.push(Object.assign(this.allItems[this.itemId], {\n          \"numberSelected\": this.thisItemNbInCart\n        }));\n      }\n\n      ;\n      this.cartJSONSubject.next(this.curCartJSON);\n    }\n\n    this.nbItemsInCartSubject.next(this.nbItemsInCart);\n  }\n\n  getCartEmpty() {\n    this.curCartJSON = [{\n      \"id\": 0,\n      \"name\": \"placeholder\",\n      \"price\": -1,\n      \"urlThumbnail\": \"placeholder\",\n      \"company\": \"placeholder\",\n      \"theme\": [{\n        \"primary\": \"black\",\n        \"primaryLight\": \"black\",\n        \"primaryDull\": \"black\"\n      }],\n      \"numberSelected\": -1,\n      \"allImageUrl\": [{\n        \"id\": 0,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": true\n      }, {\n        \"id\": 1,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": false\n      }, {\n        \"id\": 2,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": false\n      }, {\n        \"id\": 3,\n        \"url\": \"placeholder\",\n        \"urlThumbnail\": \"placeholder\",\n        \"selected\": false\n      }]\n    }];\n    this.isEmpty = true;\n    this.emptyCart = true;\n    this.nbItemsInCart = 0;\n    this.thisItemNbInCart = 0;\n    this.nbItemsInCartSubject.next(this.nbItemsInCart);\n    this.cartJSONSubject.next(this.curCartJSON);\n    this.emptyCartSubject.next(this.emptyCart);\n  }\n\n  killThisItem(itemId) {\n    let index = 0;\n    this.curCartJSON.forEach(element => {\n      if (element.id == itemId) {\n        this.nbItemsInCart = this.nbItemsInCart - element.numberSelected;\n        let copyCart = this.curCartJSON;\n        copyCart = copyCart.slice(0, index);\n        let copyCart2 = this.curCartJSON;\n        copyCart2 = copyCart2.slice(index + 1, this.curCartJSON.length);\n        this.thisItemNbInCart = 0;\n        this.curCartJSON = copyCart.concat(copyCart2);\n        this.cartJSONSubject.next(this.curCartJSON);\n        this.nbItemsInCartSubject.next(this.nbItemsInCart);\n      }\n\n      index = index + 1;\n    });\n\n    if (this.curCartJSON.length == 1) {\n      this.isEmpty = true;\n      this.emptyCart = true;\n      this.nbItemsInCart = 0;\n      this.thisItemNbInCart = 0;\n      this.nbItemsInCartSubject.next(this.nbItemsInCart);\n      this.cartJSONSubject.next(this.curCartJSON);\n      this.emptyCartSubject.next(this.emptyCart);\n    }\n  }\n\n  killProfil() {\n    this.profilState = false;\n    this.profilStateSubject.next(this.profilState);\n  }\n\n  changeMainImage(index) {\n    this.allItems[this.itemId].allImageUrl.forEach(element => {\n      element.selected = false;\n    });\n    this.currentImageIndex = index;\n    this.allItems[this.itemId].allImageUrl[index].selected = true;\n    return this.allItems[this.itemId].allImageUrl[index].url;\n  }\n\n  changeSNKRS(index) {\n    this.itemId = index;\n    this.itemIdSuject.next(this.itemId);\n\n    if (this.nbItemsInCart != 0) {\n      let isThisItemInCart = false;\n      this.curCartJSON.forEach(element => {\n        if (element.id == this.itemId) {\n          this.thisItemNbInCart = element.numberSelected;\n        }\n      });\n\n      if (!isThisItemInCart) {\n        this.thisItemNbInCart = 0;\n      }\n    }\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}